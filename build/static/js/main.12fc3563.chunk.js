(this.webpackJsonpalbumranker=this.webpackJsonpalbumranker||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"a":"https://us-central1-albumranker.cloudfunctions.net/albumranker"}')},26:function(e,t,a){e.exports=a(55)},27:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);a(27),a(28),a(29);var n=a(0),r=a.n(n),s=a(5),c=a.n(s),l=a(8),i=a.n(l),o=a(18),u=a(19),m=a(20),b=a(3),d=a(25),h=a(24),p=a(6),f=a.n(p),g=a(21),E=a.n(g),v=a(22),k=a.n(v),y=function(e){var t=e.byAlbum,a=e.byArtist;return r.a.createElement("div",{className:"landing container-fluid"},r.a.createElement("button",{type:"button",className:"btn btn-outline-danger font-weight-bold text-uppercase",onClick:t},"Search by album"),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger font-weight-bold text-uppercase",onClick:a},"Search by artist"))},N=function(e){var t=e.toCreate;return r.a.createElement("div",{className:"landing container-fluid"},r.a.createElement("button",{type:"button",className:"btn btn-outline-danger font-weight-bold text-uppercase",onClick:t},"Create"),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger font-weight-bold text-uppercase"},"List"))},w=function(e){var t=e.text,a=e.toLanding;return r.a.createElement("div",{className:"modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},t),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:a},"Close")))))},A=function(e){var t=e.item,a=e.selectAlbum;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:t.image.url,alt:t.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.artist),r.a.createElement("p",{className:"card-text "},r.a.createElement("small",null,t.total_tracks," songs")),r.a.createElement("button",{onClick:function(e){return a(t,e)},classNameName:"stretched-link"})))},x=function(e){var t=e.albums,a=e.selectAlbum,n=t.map((function(e){return r.a.createElement(A,{item:e,selectAlbum:a})}));return r.a.createElement("div",{className:"card-group"},n)},j=function(e){var t=e.saveRanking;return r.a.createElement("div",{className:"input-group w-100"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"@")),r.a.createElement("input",{type:"text",className:"form-control handle-input",placeholder:"handle you want to save your ranking","aria-label":"handle","aria-describedby":"save-button"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:"btn bg-danger font-weight-bold text-uppercase handle-button",onClick:t},"Save ranking")))},O=function(e){var t=e.searchBy,a=e.text;return r.a.createElement("div",{className:"input-group w-100"},r.a.createElement("input",{type:"text",className:"form-control search-input","aria-describedby":"search-button"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:"btn bg-danger font-weight-bold text-uppercase",onClick:t},"Search ",a)))},C=function(){return r.a.createElement("h5",{className:"title"},"AlbumRanker by ",r.a.createElement("a",{href:"https://github.com/leovictorsr/albumranker",target:"_blank",rel:"noopener noreferrer"},"@leovictorsr"))},S=a(7),B=Object(S.b)((function(e){var t=e.item,a=e.sortIndex;return r.a.createElement("li",{className:"list-group-item text-center "},r.a.createElement("span",{className:"badge badge-danger float-left"},a+1),r.a.createElement("span",{className:"badge badge-light float-center"},t.name),r.a.createElement("span",{className:"badge badge-warning float-right"},t.duration_formatted))})),R=Object(S.a)((function(e){var t=e.tracks.map((function(e,t){return r.a.createElement(B,{key:e,index:t,sortIndex:t,item:e})}));return r.a.createElement("ul",{className:"list-group"},t)})),L=a(23),I=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortEnd=n.onSortEnd.bind(Object(b.a)(n)),n.saveRanking=n.saveRanking.bind(Object(b.a)(n)),n.search=n.search.bind(Object(b.a)(n)),n.searchAlbum=n.searchAlbum.bind(Object(b.a)(n)),n.searchArtist=n.searchArtist.bind(Object(b.a)(n)),n.selectAlbum=n.selectAlbum.bind(Object(b.a)(n)),n.toCreate=n.toCreate.bind(Object(b.a)(n)),n.toByAlbum=n.toByAlbum.bind(Object(b.a)(n)),n.toByArtist=n.toByArtist.bind(Object(b.a)(n)),n.toLanding=n.toLanding.bind(Object(b.a)(n)),n.state={albums:[],tracks:[],flow:"landing"},n}return Object(m.a)(a,[{key:"saveRanking",value:function(){var e=this,t=f()(".handle-input").val(),a={tracks:this.state.tracks.map((function(e,t){return{name:e.name,duration:e.duration_formatted,track_number:e.track_number,order:t+1}})),album:this.state.albums[0].name,artist:this.state.albums[0].artist,handle:t};t&&E.a.post("/ranking",a).then((function(t){e.setState({flow:"saved"})})).catch((function(e){return console.log(e)}))}},{key:"searchAlbum",value:function(){this.search("album")}},{key:"searchArtist",value:function(){this.search("artist")}},{key:"search",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f()(".search-input").val(),n="".concat(L.a,"/spotify/").concat(t,"/").concat(a),r={method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},!a){e.next=11;break}return e.next=6,fetch(n,r);case 6:return s=e.sent,e.next=9,s.json();case 9:c=e.sent,this.setState({albums:c,tracks:[],flow:"search-result"});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectAlbum",value:function(e){this.setState({albums:[e],tracks:e.tracks,flow:"creating-ranking"})}},{key:"onSortEnd",value:function(e){this.setState({tracks:k()(this.state.tracks,e.oldIndex,e.newIndex)})}},{key:"toCreate",value:function(){this.setState({flow:"create"})}},{key:"toLanding",value:function(){this.setState({flow:"landing"})}},{key:"toByAlbum",value:function(){this.setState({flow:"by-album"})}},{key:"toByArtist",value:function(){this.setState({flow:"by-artist"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(C,null),"landing"===this.state.flow&&r.a.createElement(N,{toCreate:this.toCreate}),"create"===this.state.flow&&r.a.createElement(y,{byAlbum:this.toByAlbum,byArtist:this.toByArtist}),"by-album"===this.state.flow&&r.a.createElement(O,{searchBy:this.searchAlbum,text:"album"}),"by-artist"===this.state.flow&&r.a.createElement(O,{searchBy:this.searchArtist,text:"artist"}),"search-result"===this.state.flow&&r.a.createElement(x,{albums:this.state.albums,selectAlbum:this.selectAlbum}),"creating-ranking"===this.state.flow&&r.a.createElement(j,{saveRanking:this.saveRanking}),"creating-ranking"===this.state.flow&&r.a.createElement(R,{tracks:this.state.tracks,onSortEnd:this.onSortEnd}),"saved"===this.state.flow&&r.a.createElement(w,{text:"Ranking saved succesfully!",toLanding:this.toLanding}))}}]),a}(r.a.Component);c.a.render(r.a.createElement(I,null),document.getElementById("react-app")),c.a.render(r.a.createElement(C,null),document.getElementById("footer"))}},[[26,1,2]]]);
//# sourceMappingURL=main.12fc3563.chunk.js.map